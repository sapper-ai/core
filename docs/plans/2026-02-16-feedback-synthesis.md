# SapperAI 피드백 종합 분석 및 액션 플랜

> **작성일**: 2026-02-16
> **목적**: 외부 피드백 5건을 종합 분석하여 프로젝트 발전 방향 도출

---

## 1. 피드백 요약

### 피드백 A: "메커니즘이 단순하고 스코프가 좁다"
> 핵심 메커니즘이 너무 단순해서 "솔루션"이라고 부르기엔 스코프가 너무 좁다. 빌트인으로 대체될 것 같다.

- **타당한 부분**: 외부에서 "50개 정규식 프록시"라는 인상을 주기 쉬움. 다단계 공격 탐지 불가, 호출 간 상태 추적 없음
- **부당한 부분**: 빌트인 대체 예측은 보안 산업 역사와 배치 (Windows Defender→CrowdStrike, Dependabot→Snyk). 실제 모듈은 9개 이상

### 피드백 B: "Cloudflare AI Gateway + NGINX 리버스 프록시" (서준혁)
> MCP 보호를 쉽게 만들어라. NGINX처럼 리버스 프록시로 분리하면 가상화 환경에서 이점.

- **타당한 부분**: 엔터프라이즈 확장 시 네트워크 프록시 필수 (중앙 관리, 감사 통합, 정책 일관성)
- **부당한 부분**: 현재 타겟(개별 개발자)에서 stdio가 구조적으로 우월. v0.2.0에서 아키텍처 전환은 시기상조

### 피드백 C: "온톨로지 기반 시맨틱 추론 + ASOP"
> 온톨로지로 정적→동적→Adversarial을 하나의 루프로 엮으면 ASOP로 독보적 위치.

- **타당한 부분**: 무상태 아키텍처의 한계를 정확히 진단. 관계형 추론의 가치 자체는 유효
- **부당한 부분**: OWL/Protege는 학술 도구. Node.js에 추론 인프라 없음. 성능 10,000배 저하. v0.2.0에 과잉 엔지니어링

### 피드백 D: "어떻게 막는지 보이지 않는다"
> 동작 구조, 예시 영상이 있어야 이해할 수 있다. 의미론적 우회를 어떻게 탐지하는지 구체적으로 보여달라.

- **타당한 부분**: 데모/영상/다이어그램 전무. 코드 변경 없이 즉시 해결 가능한 가장 실행 가능한 피드백
- **부당한 부분**: 납치 시나리오 예시는 콘텐츠 모더레이션 영역이지 MCP 도구 호출 보안이 아님

### 피드백 E: "실제 사례가 없다"
> 96%는 공급자의 언어. 고객이 듣고 싶은 건 "AWS 키 탈취를 막았다"는 이야기. 실제 운영 중인 보안팀에 무료로 붙여보고 증언을 확보하라.

- **타당한 부분**: 보안 제품은 신뢰로 팔림. 고객 로고 0개, 사례 0개, 증언 0개는 치명적. 기술 개선보다 시장 검증이 선행되어야 함
- **부당한 부분**: v0.2.0에 엔터프라이즈 파일럿은 시기상조. AI 에이전트 보안 사고 자체가 아직 pre-incident 단계. 한 회사에 맞추면 범용성 상실 위험

---

## 2. 교차 분석: 피드백들이 공통으로 가리키는 것

5개 피드백을 겹쳐보면 **4가지 공통 문제**가 드러난다:

### 문제 1: "단순하다는 인상" (A, C, D)
- 실제 코드는 9개 모듈의 완전한 보안 파이프라인
- 하지만 외부에서 보이는 것은 "정규식 매칭 프록시"뿐
- **근본 원인**: 기능이 부족한 게 아니라, 기존 기능의 **가시성(visibility)이 부족**

### 문제 2: "무상태 아키텍처의 한계" (A, C)
- 매 호출마다 독립 평가, 호출 간 상태 추적 없음
- 다단계 공격 (read→read→exfiltrate) 탐지 불가
- **근본 원인**: AssessmentContext에 세션/이력 정보가 없는 아키텍처적 한계

### 문제 3: "확장 방향의 불명확성" (A, B, C)
- 개인 개발자 도구에서 어디로 가는지 로드맵이 안 보임
- 빌트인 대체 우려, 엔터프라이즈 확장 질문
- **근본 원인**: 고도화 계획이 외부에 명시적으로 제시되지 않음

### 문제 4: "시장 검증의 부재" (D, E)
- 데모도 없고, 실제 사용 사례도 없음
- 기술 스펙(96%, sub-ms)은 공급자 언어. 고객 언어로의 번역이 필요
- **근본 원인**: 제품을 만드는 데 집중하고, **보여주고 검증하는 것**을 후순위로 둠

---

## 3. 우선순위별 액션 플랜

### Priority 1: 즉시 실행 (코드 변경 없음) — "보여주고 검증하기"

피드백 D, E가 가리키는 가시성 + 시장 검증 문제를 해결한다. 가장 적은 노력으로 가장 큰 인상 변화.

| # | 액션 | 산출물 | 예상 소요 |
|---|------|--------|-----------|
| 1-1 | **터미널 데모 녹화** | `npx sapper-ai scan` → 악성 패턴 탐지 → `harden --apply` → 실시간 차단. asciinema 또는 screen recording | 1시간 |
| 1-2 | **탐지 흐름 다이어그램** | ToolCall → RulesDetector → (priorRisk>0.5?) → LlmDetector → DecisionEngine → Block/Allow. Mermaid 다이어그램으로 README에 삽입 | 30분 |
| 1-3 | **공격/탐지 시나리오 표** | malicious-50.jsonl 기반 "공격 입력 → 매칭 규칙 → 판정 결과" 테이블. 5~10개 대표 사례 | 1시간 |
| 1-4 | **탐지 한계 명시** | 정규식 기반 한계, 의미론적 우회 가능성, LlmDetector 보완 역할, 잔여 위험(residual risk) 고지 | 30분 |
| 1-5 | **고도화 로드맵 공개** | README 또는 별도 ROADMAP.md에 Phase 1/2/3 방향성 명시 | 30분 |
| 1-6 | **랜딩페이지 문제-해결 서사 전환** | 기능 나열 → "AI 에이전트가 프로덕션 DB를 삭제하려 했다면?" 문제 중심 서사. 공격 시나리오 → SapperAI 차단 → 결과 흐름 | 2시간 |
| 1-7 | **자가 사례 확보** | 본인의 개발 환경에서 SapperAI를 실제 운용하며 차단 로그 수집. "내 에이전트가 X를 하려다 막혔다" 실사례 1건 이상 확보 | 지속 |

### Priority 2: 단기 개발 — "무상태 한계 극복"

피드백 A, C가 공통으로 지적하는 핵심 기술적 한계를 해결한다. 온톨로지가 아닌 경량 접근으로.

| # | 액션 | 상세 | 예상 소요 |
|---|------|------|-----------|
| 2-1 | **세션 히스토리 추적** | `StdioSecurityProxy`에 `sessionHistory: ToolCall[]` 슬라이딩 윈도우 추가. `AssessmentContext`에 `sessionHistory?: ToolCall[]` optional 필드 추가 | 중 |
| 2-2 | **시퀀스 기반 탐지** | `SequenceDetector` 구현: read→read→exfiltrate 같은 의심 시퀀스 패턴 매칭. Detector 인터페이스 그대로 활용 | 중 |
| 2-3 | **태그 시스템** | RulesDetector의 PatternRule에 `tags: string[]` 추가 (예: `['prompt-injection', 'exfiltration']`). 탐지 결과 분류 및 설명 개선 | 소 |
| 2-4 | **권한 매트릭스** | Policy에 도구별 permission level (allow/ask/block) + 조건부 규칙 (maxCallsPerMinute 등) 추가 | 중 |

### Priority 3: 중기 확장 — "빌트인이 할 수 없는 것"

피드백 A, B의 차별화 우려에 대응한다.

| # | 액션 | 상세 |
|---|------|------|
| 3-1 | **커뮤니티 규칙 레지스트리** | ModSecurity CRS 모델로 탐지 규칙 공유/기여 생태계 |
| 3-2 | **독립 벤치마크** | OWASP LLM Top 10 기반 제3자 검증 가능한 평가 프레임워크 |
| 3-3 | **MCP 서버 보안 인증** | scan + adversary 테스팅 결과 기반 보안 등급 부여 |
| 3-4 | **위협 인텔리전스 DB 축적** | 에이전틱 AI 환경 특화 IOC 데이터베이스 |
| 3-5 | **SIEM/CI 통합** | 감사 로그 → Splunk/Datadog, CI에 adversary run 내장 |

### Priority 4: 장기 확장 — "플랫폼으로의 진화"

피드백 B, C의 엔터프라이즈/플랫폼 제안을 적절한 타이밍에 반영한다.

| # | 액션 | 상세 |
|---|------|------|
| 4-1 | **네트워크 프록시 듀얼 모드** | stdio(개인) + HTTP/SSE(팀/기업) 모드 공존. MCP SDK의 SSEServerTransport 활용 |
| 4-2 | **중앙 정책 서버** | 다수 개발자 환경에서 정책 동기화, 감사 로그 수집 |
| 4-3 | **경량 관계 모델** | 온톨로지의 실질적 이점(Asset-Threat-Policy 관계)을 TypeScript 인터페이스 + 인메모리 그래프로 구현 |
| 4-4 | **크로스 플랫폼 정책 허브** | 하나의 정책 파일로 Claude/OpenAI/Cursor/Windsurf 전체 통제 |

---

## 4. 피드백별 "가져갈 것" 요약

| 피드백 | 핵심 교훈 | 즉시 액션 | 로드맵 반영 |
|--------|-----------|-----------|-------------|
| A: 단순/좁다 | 기능은 있지만 안 보인다 | 로드맵 공개 (1-5) | 시퀀스 탐지 (2-2), 커뮤니티 규칙 (3-1) |
| B: 리버스 프록시 | 개인→기업 확장 경로 필요 | - | 듀얼 모드 (4-1), 중앙 정책 (4-2) |
| C: 온톨로지 | 무상태 한계는 실재 | - | 세션 히스토리 (2-1), 경량 관계 모델 (4-3) |
| D: 데모 부족 | 보여줘야 믿는다 | 데모 녹화 (1-1), 다이어그램 (1-2), 시나리오 표 (1-3) | - |
| E: 실제 사례 없음 | 고객 언어로 말해야 한다 | 랜딩페이지 서사 전환 (1-6), 자가 사례 확보 (1-7) | - |

---

## 5. 핵심 메시지

> 5건의 피드백이 공통으로 가리키는 것은 **"기술의 부족"이 아니라 "가시성, 방향성, 시장 검증의 부족"**이다.
>
> SapperAI는 이미 9개 모듈의 완전한 보안 파이프라인을 갖추고 있지만, 외부에서는 "정규식 프록시"로만 보인다. 가장 시급한 것은 코드를 더 짜는 것이 아니라:
> 1. **이미 있는 것을 보여주고** (데모, 다이어그램, 시나리오 표)
> 2. **고객의 언어로 말하며** (기능 나열 → 문제-해결 서사)
> 3. **실제 사례를 확보하고** (자가 운용, 파일럿)
> 4. **어디로 가는지 명확히 제시하는 것** (로드맵)
>
> 기술적 고도화(Priority 2~4)는 이 위에 단계적으로 쌓아 올린다.
